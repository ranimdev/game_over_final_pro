<div class="register d-flex justify-content-center align-items-center">
<div class="container">
    <div class="">
    <div class="row account border-0">
        <div class="col-lg-6 d-none d-lg-block bg-register-image p-0">
            <app-img></app-img>
        </div>
        <div class="col-lg-6 px-4 pb-3">
            <h4 class="text-center text-muted my-4">Create My Account!</h4>

            <form [formGroup]="registerForm" (ngSubmit)="registerUser(registerForm)" class="mx-auto" action="" >

                <div class="alert alert-warning" *ngIf="errorFromSignUp">
                    {{errorFromSignUp}}
                </div>

                <div class="form-group row mb-3">
                    <div class="col-sm-6 form-group ">
                        <input type="text" [class]="{'is-invalid':registerForm.get('first_name')?.errors && registerForm.get('first_name')?.touched ,'is-valid':!registerForm.get('first_name')?.errors}" class="form-control text-white" placeholder="First Name" id="first_name" formControlName="first_name">
                        <div *ngIf="registerForm.get('first_name')?.errors && registerForm.get('first_name')?.touched"  class="alert alert-warning py-0">
                            <p class="mb-0 " *ngIf="registerForm.get('first_name')?.getError('required')">First name is required</p>
                            <p class="mb-0" *ngIf="registerForm.get('first_name')?.getError('pattern')">Special chars not allowed</p>
                        </div>
                    </div>
                    <div class="col-sm-6 form-group">
                        <input type="text" [class]="{'is-invalid':registerForm.get('last_name')?.errors && registerForm.get('last_name')?.touched ,'is-valid':!registerForm.get('last_name')?.errors}" class="form-control text-white" placeholder="Last Name" id="last_name" formControlName="last_name">
                        <div *ngIf="registerForm.get('last_name')?.errors && registerForm.get('last_name')?.touched"  class="alert alert-warning py-0">
                            <p class="mb-0 " *ngIf="registerForm.get('last_name')?.getError('required')">Last name is required</p>
                            <p class="mb-0" *ngIf="registerForm.get('last_name')?.getError('pattern')">Special chars not allowed</p>
                        </div>
                    </div>
                </div>

                <div class="form-group mb-3">
                    <input type="email" [class]="{'is-invalid':registerForm.get('email')?.errors && registerForm.get('email')?.touched ,'is-valid':!registerForm.get('email')?.errors}" class="form-control text-white" placeholder="Email Address" id="email" formControlName="email">
                    <div *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched" class="alert alert-warning py-0">
                        <p class="mb-0" *ngIf="registerForm.get('email')?.getError('required')">Email is required</p>
                        <p class="mb-0" *ngIf="registerForm.get('email')?.getError('email')">invalid email</p>
                    </div>
                </div>    

                <div class="form-group mb-3">
                    <input type="age" [class]="{'is-invalid':registerForm.get('age')?.errors && registerForm.get('age')?.touched ,'is-valid':!registerForm.get('age')?.errors}" class="form-control text-white" placeholder="Age" id="age" formControlName="age">
                    <div *ngIf="registerForm.get('age')?.errors && registerForm.get('age')?.touched" class="alert alert-warning py-0">
                        <p class="mb-0" *ngIf="registerForm.get('age')?.getError('required')">Age is required</p>
                        <p class="mb-0" *ngIf="registerForm.get('age')?.getError('min')">min is 15</p>
                        <p class="mb-0" *ngIf="registerForm.get('age')?.getError('max')">max is 30</p>
                    </div>
                </div>    

                <div class="form-group mb-3">
                    <input type="password" [class]="{'is-invalid':registerForm.get('password')?.errors && registerForm.get('password')?.touched ,'is-valid':!registerForm.get('password')?.errors}" class="form-control text-white" placeholder="Password" id="password" formControlName="password">
                    <div *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched" class="alert alert-warning py-0">
                        <p class="mb-0" *ngIf="registerForm.get('password')?.getError('required')">Password is required</p>
                        <p class="mb-0" *ngIf="registerForm.get('password')?.getError('pattern')">invalid password</p>
                    </div>
                </div>    

                <button *ngIf="isLoading"  type="reset" class="btn py-2 w-100 text-white">
                    <i class="fa fa-spinner fa-spin text-center"></i>
                </button>

                <button *ngIf="!isLoading" [disabled]="!registerForm.valid" class="btn py-2 w-100 text-white">
                    <span>Create Account</span>
                </button>
            </form>

            <div class="text-center d-flex text-muted small mt-3 justify-content-center">
                <p class="text-muted">This site is protected by reCAPTCHA and the Google</p>
                <a [routerLink]=" 'https://policies.google.com/privacy' " class="text-muted px-1 "> Privacy policy </a>
                and
                <a [routerLink]=" 'https://policies.google.com/terms' " class="text-muted px-1"> Terms of service </a>
                apply.
            </div>
            <hr class="text-white m-0">
            
            <div class="text-center text-muted mt-3">
                <span class="small">Already a member?</span>
                <a routerLink="/login" class="text-primary">Log In</a>
                <i class="fas fa-chevron-right small text-primary"></i>
            </div>
        </div>
    </div>
    </div>
</div>
</div>